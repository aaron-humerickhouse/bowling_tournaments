<p id="notice"><%= notice %></p>

<%= javascript_pack_tag 'tournaments', 'data-turbolinks-track': 'reload' %>

<h1>Tournaments</h1>
<form id="search-form">
  <div class="row mb-4">
    <div class="col-md-4">
        <%= label_tag('Zip Code', nil, for: 'zip_code', class: 'form-label') %>
        <%= text_field_tag(:zip_code, nil, class: 'input form-control') %>
    </div>
    <div class="col-md-4">
        <%= label_tag('Search Radius (miles)', nil, for: 'miles', class: 'form-label') %>
        <%= select_tag(:miles, options_for_select([5,15,25, 50, 100, 250, 1000], 50), class: 'selectpicker form-control') %>
    </div>
    <div class="col-md-4">
        <%= label_tag('Months in Advance', nil, for: 'months', class: 'form-label') %>
        <%= select_tag(:months, options_for_select((1..12), 3), class: 'selectpicker form-control') %>
    </div>
  </div>
  <div class="row mb-4">
    <div class="col-12" id="search-div">
      <button id="search" class="btn btn-primary" type="submit" onclick="submitSearch()">Search</button>
      <button id="clear" class="btn btn-secondary back" type="submit" onclick="clearSearch()">Clear</button>
    </div>
  </div>
</form>

<table class="table">
  <thead>
    <tr>
      <th>Name</th>
      <th>Alley</th>
      <th>Starts at</th>
      <th>Format</th>
      <th>Participants</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @tournaments.each do |tournament| %>
      <tr>
        <td><%= tournament.name %></td>
        <td><%= tournament.alley.readable %></td>
        <td><%= tournament.starts_at %></td>
        <td><%= tournament.format %></td>
        <td><%= tournament.participants %></td>
        <td><%= link_to 'Show', tournament %></td>
        <td><%= link_to 'Edit', edit_tournament_path(tournament) %></td>
        <td><%= link_to 'Destroy', tournament, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<div class="col-12">
<%= button_to 'New Tournament', new_tournament_path, class: 'btn btn-primary', method: 'get' %>
</div>